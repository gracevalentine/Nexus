<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Nexus - Store</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='store_category_page.css') }}">
</head>

<body>
    <header>
        <div class="logo">
            <a href="{{ url_for('gamer.gamer_homepage', gamer_id=gamer_id) }}">&lt;logo_pic&gt;</a>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search">
            <button>üîç</button>
        </div>
        <nav>
            <a href="{{ url_for('gamer.gamer_homepage', gamer_id=gamer_id) }}" class="active">HOME</a>
            <a href="{{ url_for('gamer.gamer_library', gamer_id=gamer_id) }}">LIBRARY</a>
            <a href="store_category_page.html">STORE</a>
            <a href="{{ url_for('logout') }}">LOGOUT</a>
        </nav>
    </header>

    <main>
        <section class="genre-section">
            <h2>Popular Genres</h2>
            <p><em>The long wait is over</em></p>

            <div class="carousel-container">
                <button class="arrow left" onclick="scrollGenres(-1)">&#10094;</button>
                <div class="genre-carousel" id="genreCarousel">
                    <div class="genre-card">
                        <img src="asset/games/pubg.jpg" alt="Action">
                        <span>Action Games</span>
                    </div>
                    <div class="genre-card">
                        <img src="asset/games/godofwar.jpg" alt="Action-Adventure">
                        <span>Action-Adventure Games</span>
                    </div>
                    <div class="genre-card">
                        <img src="asset/games/minecraft.jpg" alt="Adventure">
                        <span>Adventure Games</span>
                    </div>
                    <div class="genre-card">
                        <img src="asset/games/stardewvalley.jpg" alt="Casual">
                        <span>Casual Games</span>
                    </div>
                    <div class="genre-card">
                        <img src="asset/games/animalcrossing.jpg" alt="Racing">
                        <span>Racing Games</span>
                    </div>
                    <div class="genre-card">
                        <img src="asset/games/eldenring.jpg" alt="Sports">
                        <span>Sports Games</span>
                    </div>
                    <div class="genre-card">
                        <img src="asset/games/outlast2.jpg" alt="Horror">
                        <span>Horror Games</span>
                    </div>
                </div>
                <button class="arrow right" onclick="scrollGenres(1)">&#10095;</button>
            </div>
        </section>
    </main>

    <script>
        let scrollIndex = 0;
        const visibleCards = 4;
        const carousel = document.getElementById('genreCarousel');
        const cardWidth = 220 + 20; // 220px card + 20px margin (10px left + 10px right)
        const totalCards = carousel.children.length;
    
        function scrollGenres(direction) {
            scrollIndex += direction;
    
            if (scrollIndex < 0) {
                // Loop to end
                scrollIndex = totalCards - visibleCards;
            } else if (scrollIndex > totalCards - visibleCards) {
                // Loop to beginning
                scrollIndex = 0;
            }
    
            carousel.style.transform = `translateX(-${scrollIndex * cardWidth}px)`;
        }
    </script>    
</body>

</html>